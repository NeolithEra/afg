########################## New approach ###########################
# At first on_session_started handler must set initial scenario step in session attributes.
#
# On each consequent step parser get current scenario step name and invocation event name
# 1) verify if event trigger is allowed for current scenario step (event name in list of invocation_event_names),
# if not return 'bad_trigger' and reprompt;
# 2) if event is correct, parse: get next scenario step to set as current, action to perform and response
#
#
# No need to describe StopIntent, CancelIntent etc here
# just implement statement return in handler
#

# where to start
first_step: init

steps:
## Step #1
  init:
    reprompt: "So, would you like a coffee?"
    events:
      launched:
        next_step: activate_coffeemaker

## Step #2
  activate_coffeemaker:
    reprompt: "Yes or no, please"
    events:
      # event trigger #1
      start_coffee:
        next_step: coffeemaker_choice

      # event trigger #2
      stop_coffee:
        next_step:

## Step #3
  coffeemaker_choice:
    reprompt: "Tell me number, please"
    events:
      choose_coffemaker:
        next_step: enter_pin

## Step #4
  enter_pin:
    reprompt: "Tell me the code"
    events:
      make_coffee:
        next_step:
