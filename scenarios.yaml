########################## New approach ###########################
# At first on_session_started handler must set initial scenario step in session attributes.
#
# On each consequent step parser get current scenario step name and invocation event name
# 1) verify if event trigger is allowed for current scenario step (event name in list of invocation_event_names),
# if not return 'bad_trigger' and reprompt;
# 2) if event is correct, parse: get next scenario step to set as current, action to perform and response
#
#
# No need to describe StopIntent, CancelIntent etc here
# just implement statement return in handler
#

# where to start
first_step: init

# example of scenario with one step description
steps:
## Step
  init:
    reprompt: "So, would you like a coffee?"
    events:
      launched:
        next_step: activate_coffeemaker
        response:
          speech: "Hello! Would you like a coffee?"

## Step
  activate_coffeemaker:
    reprompt: "Yes or no, please"
    events:
      # event trigger #1
      start_coffee:
        next_step: coffeemaker_choice

        response:
          speech: "Choose coffemaker, please"

      # event trigger #2
      stop_coffee:
        action: stop_the_party
        response:
          speech: "stopping"

## Step
  coffeemaker_choice:
    reprompt: "Tell me number, please"
    events:
      choose_coffemaker:
        next_step: enter_pin
        action: save_coffeemaker_number
        response:
          speech: "Tell me your pin code, please"

## Step
  enter_pin:
    reprompt: "Tell me the code"
    events:
      make_coffee:
        action: make_coffee
        response:
          speech: "Ok, take your coffee from machine {{cfm_num}}, please"
          card:
            type: simple
            info:
              title: "Coffee order"
              content: "Pull your coffee from chosen machine"

#
# card description variant
#
#         card:
#         type: standard
#         info:
#           title: "title text"
#           text: "card text"
#           small_image_url: "small pic URL"
#           large_image_url: "large pic URL"
#
